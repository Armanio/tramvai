<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<title data-react-helmet="true">Base | tramvai</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://tramvai.dev//en/docs/references/cli/base"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Base | tramvai"><meta data-react-helmet="true" name="description" content="CLI interface for resolving actual problems and tasks of frontend CI. Reduces complexity of setting up webpack, typescript, babel, postcss and other tools."><meta data-react-helmet="true" property="og:description" content="CLI interface for resolving actual problems and tasks of frontend CI. Reduces complexity of setting up webpack, typescript, babel, postcss and other tools."><link data-react-helmet="true" rel="icon" href="/en/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://tramvai.dev//en/docs/references/cli/base"><link data-react-helmet="true" rel="alternate" href="https://tramvai.dev//docs/references/cli/base" hreflang="ru"><link data-react-helmet="true" rel="alternate" href="https://tramvai.dev//en/docs/references/cli/base" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tramvai.dev//docs/references/cli/base" hreflang="x-default"><link rel="stylesheet" href="/en/assets/css/styles.c5e69d71.css">
<link rel="preload" href="/en/assets/js/runtime~main.09f1281f.js" as="script">
<link rel="preload" href="/en/assets/js/main.71da2d8f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo-tinkoff.svg" alt="tramvai" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/en/img/logo-tinkoff.svg" alt="tramvai" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">tramvai</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/en/docs/get-started/overview">Docs</a><a class="navbar__item navbar__link" href="/en/docs/references/tramvai/create-app">API</a><a href="https://github.com/Tinkoff/tramvai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_3vod"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/references/cli/base" target="_self" rel="noopener noreferrer" class="dropdown__link">Русский</a></li><li><a href="/en/docs/references/cli/base" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li></ul></div><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">🌜</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">🌞</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/en/docs/get-started/overview">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/en/docs/tutorials/pokedex-app/new-app">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/en/docs/concepts/overview">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/en/docs/features/react">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/en/docs/guides/tramvai-library">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/en/docs/how-to/how-create-module">How-to</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/en/docs/references/tramvai/create-app">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/en/docs/references/tramvai/create-app">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/en/docs/references/modules/autoscroll">Modules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/en/docs/references/libs/browser-timings">Libs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/en/docs/references/tokens/router-tokens">Tokens</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/en/docs/references/cli/base">CLI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/references/cli/base">Base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/references/cli/config">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/references/cli/start">start command</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/references/cli/build">build command</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/references/cli/analyze">analyze command</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/references/cli/serverInline">Putting inline code for the client on server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/references/cli/browserslist">Integration with browserslist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/references/cli/experiments">Experimental settings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/en/docs/references/test/test-unit">Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/en/docs/references/tools/monorepo-tools/fix-ts-references">Tools</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="#" class="menu__link menu__link--sublist">Releases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/en/docs/contribute/">Contribute</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article><div class="markdown"><header><h1>Base</h1></header><p>CLI interface for resolving actual problems and tasks of frontend CI. Reduces complexity of setting up webpack, typescript, babel, postcss and other tools.</p><p><code>@tramvai/cli</code> may build projects to production, run code in development mode with automatic rebuilds, project analyze and code generation</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="installation">Installation<a aria-hidden="true" class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><p>Global installation on the developer machine. After that the new command <code>tramvai</code> will be available in terminal.</p><div class="codeBlockContainer_K1bP language-bash"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i -g @tramvai/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Local installation to the project</p><div class="codeBlockContainer_K1bP language-bash"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i --save-dev @tramvai/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="api">API<a aria-hidden="true" class="hash-link" href="#api" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="commands">Commands<a aria-hidden="true" class="hash-link" href="#commands" title="Direct link to heading">​</a></h3><p>After any command you can pass <code>--help</code> string, e.g. <code>tramvai --help</code> or <code>tramvai start --help</code>. After that you will see description of the command and its options.</p><ul><li><code>tramvai new</code> - generate new tramvai app with @tramvai/cli</li><li><code>tramvai start</code> - run app in the development mode</li><li><code>tramvai start-prod</code> - run app in development mode, but code will be build in the production mode</li><li><code>tramvai build</code> - build an app for server and client</li><li><code>tramvai analyze</code> - analyze bundle size</li><li><code>tramvai generate</code> - code generation for different components. E.g. new projects, react components, actions and etc.</li><li><code>tramvai update</code> - update <code>@tramvai/cli</code> and all of the <code>@tramvai</code> and <code>@tramvai-tinkoff</code> dependencies in the project. This command additionally executes dependency deduplication and code migrations</li><li><code>tramvai add</code> - add <code>@tramvai</code> or <code>@tramvai-tinkoff</code> dependency to the app. This command additionally executes dependency deduplication and code migrations</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="explanation">Explanation<a aria-hidden="true" class="hash-link" href="#explanation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="notifications-settings">Notifications settings<a aria-hidden="true" class="hash-link" href="#notifications-settings" title="Direct link to heading">​</a></h3><p>Inside <code>tramvai.json</code> the settings for the notification can be specified at path <code>commands.serve.notifications</code>. Parameters are passed to <a href="https://github.com/RoccoC/webpack-build-notifier#config-options" target="_blank" rel="noopener noreferrer">webpack-build-notifier</a>. You can specify global configuration or a specific configuration either for client or server build.</p><div class="codeBlockContainer_K1bP language-json"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;commands&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;serve&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;notifications&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;suppressSuccess&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;always&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;server&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;suppressWarning&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;activateTerminalOnError&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="css-class-names-generation-settings">CSS class names generation settings<a aria-hidden="true" class="hash-link" href="#css-class-names-generation-settings" title="Direct link to heading">​</a></h3><p>Name generation is configured via the options <code>cssLocalIdentNameDev</code> and <code>cssLocalIdentNameProd</code> (common option <code>cssLocalIdentName</code> might be used to specify settings for both prod and dev).</p><div class="codeBlockContainer_K1bP language-json"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;commands&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;build&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;configurations&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;postcss&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;cssLocalIdentName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[hash:base64:5]&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// default value (deprecated)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;cssLocalIdentNameDev&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[name]__[local]_[minicss]&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// available values see in the docs to [css-loader](https://github.com/webpack-contrib/css-loader)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;cssLocalIdentNameProd&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[minicss]&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// additionally new tag `minicss` can be used for the generating minimal css names. Based on [article](https://dev.to/denisx/reduce-bundle-size-via-one-letter-css-classname-hash-strategy-10g6)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="polyfills-for-the-standard-nodejs-modules">Polyfills for the standard NodeJS modules<a aria-hidden="true" class="hash-link" href="#polyfills-for-the-standard-nodejs-modules" title="Direct link to heading">​</a></h3><p>By default, <code>webpack</code> starting with 5th version, do not add polyfills to browser bundle when using nodejs standard modules in the browser code, e.g. when using <em>crypto</em>, <em>path</em>, <em>process</em>, <em>buffer</em>, etc.</p><p><code>@tramvai/cli</code> explicitly adds polyfills for <em>path</em> and <em>process</em> modules as these modules are often used and lightweighted.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="checking-typescript-types">Checking TypeScript types<a aria-hidden="true" class="hash-link" href="#checking-typescript-types" title="Direct link to heading">​</a></h3><p>Checking types is enabled by flag <code>checkAsyncTs</code>.</p><p>When running <code>tramvai start</code> ts compilation and type checks will be executed.</p><p>Inside <code>tramvai.json</code></p><div class="codeBlockContainer_K1bP language-json"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;checkAsyncTs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;failOnBuild&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// optional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;pluginOptions&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// optional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>failOnBuild</strong> adds type checks when running <code>tramvai build</code>. This way build will fail in case of wrong types.</p><p><strong>pluginOptions</strong> – <a href="https://github.com/TypeStrong/fork-ts-checker-webpack-plugin#options" target="_blank" rel="noopener noreferrer">list of the additional options</a> for the plugin <code>fork-ts-checker-webpack-plugin</code></p><p>If you want to override path to tsconfig through <strong>pluginOptions.tsconfig</strong> the option should be specified relative to the <code>@tramvai/cli</code> folder itself e.g. <em>node_modules/@tramvai/cli</em>. By default tsconfig is expected to be in the project root directory: <em>\&lt;rootDir<!-- -->&gt;<!-- -->/tsconfig.json</em></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="deduplication-of-modules">Deduplication of modules<a aria-hidden="true" class="hash-link" href="#deduplication-of-modules" title="Direct link to heading">​</a></h3><p>Option <code>commands.build.configurations.dedupe</code> controls the settings of plugin for the deduplication process. Available options are:</p><ul><li><code>&quot;equality&quot;</code> - uses strict version comparison. Dedupes modules in <code>node_modules</code> with equal package version that are imported from different sources. E.g. imports for <code>node_modules/package/index.js</code> and <code>node_modules/nested-package/node_modules/package/index.js</code> are deduped into a single <code>node_modules/package/index.js</code> import whilst without dedupe it will bundle two files as separate modules.</li><li><code>&quot;semver&quot;</code> - compares version of packages based on semver. It can dedupe all of the imports with the same major version and any of the minor and patch versions. E.g. next versions will be deduped: from <code>1.14.0</code> and <code>1.16.2</code> to <code>1.16.2</code>, from <code>0.14.1</code> and <code>0.16.5</code> to <code>0.16.5</code>, whilst versions <code>0.0.2</code> and <code>0.0.5</code> will be left without deduplication.</li><li><code>false</code> - disable deduplication, by default</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="debug-an-app">Debug an app<a aria-hidden="true" class="hash-link" href="#debug-an-app" title="Direct link to heading">​</a></h3><p>While developing sometimes it is needed to debug nodejs app directly so see CPU, memory consumptions etc. To do it the options <code>--debug</code> might be passed to commands <code>start</code> and <code>start-prod</code> which do next:</p><ul><li>enables source maps for build on client and server</li><li>starts the server process with the flag <a href="https://nodejs.org/ru/docs/guides/debugging-getting-started/" target="_blank" rel="noopener noreferrer"><code>--inspect</code></a>.</li></ul><p>After that you can open debugger in the chrome devtools - <code>chrome://inspect</code></p><h4 class="anchor anchorWithStickyNavbar_31ik" id="source-maps">Source Maps<a aria-hidden="true" class="hash-link" href="#source-maps" title="Direct link to heading">​</a></h4><p><code>webpack</code> offers several kind of <a href="https://webpack.js.org/configuration/devtool/#qualities" target="_blank" rel="noopener noreferrer">sourcemap qualities</a>. Some of the examples are:</p><ol><li>Source code - the code before transpilation and bundling. Snapshot of the source code, splitted by modules</li><li>Transformed code - the code after transpilation by loaders (etc. babel-loader), splitted by modules</li><li>Generated code - the code after transpilation and bundling, splitted by modules. Every import and exported are replaced by webpack wrapper code</li></ol><p>For development source maps for transformed or generated code is used as it is more performant and shows the exact code that is executed in the target environment. The main differences from the debugging without sourcemaps is that code has links to modules to original source files.</p><p><code>tramvai</code> generates big single bundle with server code and that&#x27;s why it is preferred to not include sourcemaps in the code itself and put it to the separate <code>.js.map</code> file.</p><h5 class="anchor anchorWithStickyNavbar_31ik" id="development">Development<a aria-hidden="true" class="hash-link" href="#development" title="Direct link to heading">​</a></h5><p>By default, for browser is used the fastest sourcemaps, while for server no sourcemaps is used.</p><p>Flag <code>--debug</code> enables sourcemap generation for the server bundle.</p><p>Option <code>commands.serve.configurations.sourceMap</code> enables sourcemap generation both for browser and server code.</p><h5 class="anchor anchorWithStickyNavbar_31ik" id="production">Production<a aria-hidden="true" class="hash-link" href="#production" title="Direct link to heading">​</a></h5><p>By default, sourcemaps are disabled both for the client and server code.</p><p>Flag <code>--debug</code> enables sourcemaps generation for the client and server bundles.</p><p>Option <code>commands.build.configurations.sourceMap</code> enables sourcemap generation for the client bundle.</p><p>Option <code>commands.build.configurations.sourceMapServer</code> enables sourcemap generation for the server bundle.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="how-to">How to<a aria-hidden="true" class="hash-link" href="#how-to" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="code-generation">Code generation<a aria-hidden="true" class="hash-link" href="#code-generation" title="Direct link to heading">​</a></h3><p>For make life easier for developers <code>@tramvai/cli</code> has ability to automatically generate code with template. For running code generator use command <code>tramvai generate</code> and pick up one of the options available to generate that entity:</p><ul><li>action</li><li>bundle</li><li>reducer</li><li>page</li><li>component</li><li>module</li></ul><p>After that template files will be generated</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="generate-new-project">Generate new project<a aria-hidden="true" class="hash-link" href="#generate-new-project" title="Direct link to heading">​</a></h3><p>For the quick start of new project you can use command <code>tramvai new</code> that will generate new base project with the tramvai and tramvai-cli</p><ul><li>install tramvai-cli <a href="#installation">globally</a></li><li>enter command <code>tramvai new NAME_YOUR_APP</code> in the shell</li><li>choose options based on your preferences: monorepo or multirepo, CI integration and testing framework</li></ul><p>After command execution and dependency installation new project will be ready to use</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="how-to-run-nodejs-app-in-debug-mode">How to run nodejs app in debug mode?<a aria-hidden="true" class="hash-link" href="#how-to-run-nodejs-app-in-debug-mode" title="Direct link to heading">​</a></h3><p>Add flag <code>--debug</code> when running app</p><div class="codeBlockContainer_K1bP language-sh"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">tramvai start my-app --debug</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then open chrome devTools, click on NodeJs logo in the upper left corner. New window with the nodejs devtools will be opened that allows to debug memory and cpu usage, debug code and take the performance profiles.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="get-details-for-deprecated-and-warning-logs">Get details for deprecated and warning logs<a aria-hidden="true" class="hash-link" href="#get-details-for-deprecated-and-warning-logs" title="Direct link to heading">​</a></h3><p>It might be useful to get the stacktraces of some of the warnings.</p><p>E.g., while running app if you see logs like this</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">(node:2898) DeprecationWarning: ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">(Use `node --trace-deprecation ...` to show where the warning was created)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You may add flag <code>--trace</code> in order to run nodejs server with the <a href="https://nodejs.org/dist/latest-v14.x/docs/api/cli.html#cli_trace_warnings" target="_blank" rel="noopener noreferrer">additional options</a>.</p><div class="codeBlockContainer_K1bP language-sh"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">tramvai start my-app --trace</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>After that these logs will be printed with their stacktraces</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="how-to-use-browserstack-for-testing">How to use browserstack for testing<a aria-hidden="true" class="hash-link" href="#how-to-use-browserstack-for-testing" title="Direct link to heading">​</a></h3><blockquote><p>To get access to browserstack just type command <code>/bs</code> in slack</p></blockquote><p>Run app as usual with <code>tramvai start</code> command and follow the <a href="https://www.browserstack.com/docs/live/local-testing" target="_blank" rel="noopener noreferrer">browsertack instruction for the local development</a>. If everything were done right you will be able to get access to localhost inside browserstack and test your app through it.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="how-to-test-app-on-mobile-or-other-device-in-local-network">How to test app on mobile or other device in local network<a aria-hidden="true" class="hash-link" href="#how-to-test-app-on-mobile-or-other-device-in-local-network" title="Direct link to heading">​</a></h3><p>Both devices one that running the app and one for testing must reside in the same network.</p><p>For setting access through local network follow next steps:</p><ol><li>figure out the ip of the machine that runs app</li><li>run command <code>tramvai start</code> with flag <code>--staticHost</code> with value of the ip address that was resolved on previous step (e.g. <code>tramvai start tincoin --staticHost 192.168.1.3</code>)</li><li>from the testing device open the new page in the browser and use the ip address from the previous step as domain name</li></ol><blockquote><p>When calling @tramvai/cli using npm you need to pass <code>--</code> before any additional arguments, e.g. command should look similar to this <code>npm start -- --staticHost 192.168.1.3</code></p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/Tinkoff/tramvai/-/edit/master/docs/get-started/overview.md/tmp-docs/references/cli/base.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_1szQ"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a><ul><li><a href="#commands" class="table-of-contents__link toc-highlight">Commands</a></li></ul></li><li><a href="#explanation" class="table-of-contents__link toc-highlight">Explanation</a><ul><li><a href="#notifications-settings" class="table-of-contents__link toc-highlight">Notifications settings</a></li><li><a href="#css-class-names-generation-settings" class="table-of-contents__link toc-highlight">CSS class names generation settings</a></li><li><a href="#polyfills-for-the-standard-nodejs-modules" class="table-of-contents__link toc-highlight">Polyfills for the standard NodeJS modules</a></li><li><a href="#checking-typescript-types" class="table-of-contents__link toc-highlight">Checking TypeScript types</a></li><li><a href="#deduplication-of-modules" class="table-of-contents__link toc-highlight">Deduplication of modules</a></li><li><a href="#debug-an-app" class="table-of-contents__link toc-highlight">Debug an app</a></li></ul></li><li><a href="#how-to" class="table-of-contents__link toc-highlight">How to</a><ul><li><a href="#code-generation" class="table-of-contents__link toc-highlight">Code generation</a></li><li><a href="#generate-new-project" class="table-of-contents__link toc-highlight">Generate new project</a></li><li><a href="#how-to-run-nodejs-app-in-debug-mode" class="table-of-contents__link toc-highlight">How to run nodejs app in debug mode?</a></li><li><a href="#get-details-for-deprecated-and-warning-logs" class="table-of-contents__link toc-highlight">Get details for deprecated and warning logs</a></li><li><a href="#how-to-use-browserstack-for-testing" class="table-of-contents__link toc-highlight">How to use browserstack for testing</a></li><li><a href="#how-to-test-app-on-mobile-or-other-device-in-local-network" class="table-of-contents__link toc-highlight">How to test app on mobile or other device in local network</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/en/docs/concepts/overview">Architecture</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/get-started/create-app">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/references/tramvai/create-app">API reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://codesandbox.io/s/tramvai-new-qgk90" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Codesandbox<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Tinkoff/tramvai" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/en/img/logo-tinkoff.svg" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/en/img/logo-tinkoff.svg" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright © 2021 tinkoff.ru</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.09f1281f.js"></script>
<script src="/en/assets/js/main.71da2d8f.js"></script>
</body>
</html>