"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6715],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>u});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=o.createContext({}),s=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=s(e.components);return o.createElement(c.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=s(t),u=r,f=m["".concat(c,".").concat(u)]||m[u]||d[u]||a;return t?o.createElement(f,i(i({ref:n},p),{},{components:t})):o.createElement(f,i({ref:n},p))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=m;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=t[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},5477:(e,n,t)=>{t.r(n),t.d(n,{frontMatter:()=>l,contentTitle:()=>c,metadata:()=>s,toc:()=>p,default:()=>m});var o=t(3117),r=t(102),a=(t(7294),t(3905)),i=["components"],l={id:"how-enable-modern",title:"How to enable modern mode for an application?"},c=void 0,s={unversionedId:"how-to/how-enable-modern",id:"how-to/how-enable-modern",title:"How to enable modern mode for an application?",description:"Instructions on how to enable `modern' code assembly in the application.",source:"@site/tmp-docs/how-to/how-enable-modern.md",sourceDirName:"how-to",slug:"/how-to/how-enable-modern",permalink:"/en/docs/how-to/how-enable-modern",editUrl:"https://github.com/Tinkoff/tramvai/-/edit/master/docs/get-started/overview.md/tmp-docs/how-to/how-enable-modern.md",tags:[],version:"current",frontMatter:{id:"how-enable-modern",title:"How to enable modern mode for an application?"},sidebar:"docs",previous:{title:"How to split a component into an asynchronous chunk?",permalink:"/en/docs/how-to/how-create-async-component"},next:{title:"How to debug modules?",permalink:"/en/docs/how-to/how-debug-modules"}},p=[{value:"Configuring tramvai.json",id:"configuring-tramvaijson",children:[],level:2}],d={toc:p};function m(e){var n=e.components,t=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Instructions on how to enable `modern' code assembly in the application.\nThis is to ensure that new browsers get the code without the various transformations that are needed for legacy browsers.\nThis way we reduce the amount of code and improve the performance of the application."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.smashingmagazine.com/2018/10/smart-bundling-legacy-code-browsers/"},"Read more about the modern bundle from smashingmagazine")),(0,a.kt)("h2",{id:"configuring-tramvaijson"},"Configuring tramvai.json"),(0,a.kt)("p",null,"We need to enable building code for modern versions of browsers.\nTo do this, add the ",(0,a.kt)("inlineCode",{parentName:"p"},"modern: true")," parameter to tramvai.json:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "projects": {\n    "tincoin": {\n      "name": "tincoin",\n      "root": "src",\n      "type": "application",\n      "commands": {\n        "build": {\n          "options": {\n            "vendor": "src/vendor.js",\n            "polyfill": "src/polyfill.ts",\n            "server": "src/index.ts"\n          },\n          "configurations": {\n            "modern": true\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,a.kt)("p",null,"After that, ",(0,a.kt)("inlineCode",{parentName:"p"},"@tramvai/cli")," will build two versions of each js file: ES5 and ES2017"),(0,a.kt)("p",null,"After these steps, we will build statics for 2 packs of browsers and ",(0,a.kt)("inlineCode",{parentName:"p"},"RenderModule")," will give the ES2017-compatible code for modern browsers."))}m.isMDXComponent=!0}}]);