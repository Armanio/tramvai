(self.webpackChunk=self.webpackChunk||[]).push([[5882],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>d,kt:()=>u});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),m=c(n),u=r,h=m["".concat(l,".").concat(u)]||m[u]||s[u]||i;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{frontMatter:()=>p,contentTitle:()=>l,metadata:()=>c,toc:()=>d,default:()=>m});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),o=["components"],p={id:"how-create-child-app",title:"How to create Child App?"},l=void 0,c={unversionedId:"features/child-app/how-create-child-app",id:"features/child-app/how-create-child-app",isDocsHomePage:!1,title:"How to create Child App?",description:"Initialization",source:"@site/tmp-docs/features/child-app/how-create-child-app.md",sourceDirName:"features/child-app",slug:"/features/child-app/how-create-child-app",permalink:"/en/docs/features/child-app/how-create-child-app",editUrl:"https://github.com/Tinkoff/tramvai/-/edit/master/docs/get-started/overview.md/tmp-docs/features/child-app/how-create-child-app.md",version:"current",frontMatter:{id:"how-create-child-app",title:"How to create Child App?"},sidebar:"docs",previous:{title:"Child App",permalink:"/en/docs/features/child-app/child-app"},next:{title:"seo",permalink:"/en/docs/references/modules/seo"}},d=[{value:"Initialization",id:"initialization",children:[{value:"Step By Step",id:"step-by-step",children:[]}]},{value:"Development",id:"development",children:[{value:"Add new functionality",id:"add-new-functionality",children:[]},{value:"Deploy",id:"deploy",children:[]}]}],s={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"initialization"},"Initialization"),(0,i.kt)("h3",{id:"step-by-step"},"Step By Step"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Create new repo")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Init package-manager")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add necessarily package for child app"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"  yarn add --dev @tramvai/cli\n  yarn add @tramvai/child-app-core\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Create new file ",(0,i.kt)("inlineCode",{parentName:"p"},"tramvai.json")," in the root with following content"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "$schema": "./node_modules/@tramvai/cli/schema.json",\n  "projects": {\n    "[name]": {\n      "name": "[name]",\n      "root": "src",\n      "type": "child-app"\n    }\n  }\n}\n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add scripts to ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," for run child in dev and prod mode:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    "start": "tramvai start [name]",\n    "build": "tramvai build [name]"\n  }\n}\n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Implement your React-component wrapper (for example in ",(0,i.kt)("inlineCode",{parentName:"p"},"./src/component.tsx"),")")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add new file ",(0,i.kt)("inlineCode",{parentName:"p"},"./src/entry.ts")," for you app with following content:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import { createChildApp } from '@tramvai/child-app-core';\nimport { ChildAppComponent } from './component';\n\n// eslint-disable-next-line import/no-default-export\nexport default createChildApp({\n  name: '[name]',\n  modules: [],\n  render: ChildAppComponent,\n});\n")))),(0,i.kt)("h2",{id:"development"},"Development"),(0,i.kt)("h3",{id:"add-new-functionality"},"Add new functionality"),(0,i.kt)("p",null,"Child App should mostly reuse functionality from root app through di inheritance (it happens automatically) in cases when it is appropriate. But in order to properly work, some of the modules need a special wrapper module for child app (usually such a wrapper is needed when module functionality in used in React). In this case check interested module documentation on presence of such a wrapper module for a child app."),(0,i.kt)("p",null,"If your child app has some specific functionality you may implement it the way you want: through module, provider, actions or inside React-component. Just make sure you are reusing as much functionality from root app as possible and you are adding as little code as needed to produce smallest possible child-app script."),(0,i.kt)("h3",{id:"deploy"},"Deploy"),(0,i.kt)("p",null,"@TODO"))}m.isMDXComponent=!0}}]);