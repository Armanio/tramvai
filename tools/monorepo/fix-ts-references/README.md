# @tinkoff-monorepo/fix-ts-references

Все зависимости от слинкованных модулей монорепы должны быть зеркально отражены в `tsconfig.references`, чтобы позволить `tsc` собрать модули и зависимые от них модули в правильном порядке и за один вызов компилятора.

## Install

```
yarn add fix-ts-references
```

## Usage

```
npx fix-ts-references --fix
```

Соответственно скрипт выполняет:

С флагом `--fix`:

1. Удаление ссылки из references модуля если зависимость убрана из `package.json`
1. Добавление ссылки в references модуля если зависимость добавлена в `package.json`
1. Простановка `tsconfig.compilerOptions.rootDir=./src` если не поставлена
1. Удаление ссылки из reference solution'а проекта если модуль удален из репозитория
1. Добавление ссылки в reference solution'а проекта если модуль добавлен в репозиторий

Без флага `--fix` выводит список неисправленных ошибок
